<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Barita CLTV Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <style>
      :root {
        --primary: #004c6d;
        --secondary: #4c8cbd;
        --tertiary: #7aa6c2;
        --light: #a8c1d9;
        --lighter: #d4e3f2;
        --accent: #ff6b6b;
        --text-dark: #333;
        --text-light: #666;
        --white: #fff;
        --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        background-color: #f5f8fa;
        color: var(--text-dark);
      }

      .dashboard {
        display: grid;
        grid-template-columns: 240px 1fr;
        min-height: 100vh;
      }

      .sidebar {
        background-color: var(--primary);
        color: var(--white);
        padding: 1.5rem;
        box-shadow: var(--shadow);
        z-index: 10;
        position: sticky;
        top: 0;
        height: 100vh;
      }

      .logo {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 2rem;
        display: flex;
        align-items: center;
      }

      .logo img {
        width: 36px;
        margin-right: 10px;
      }

      .nav-list {
        list-style: none;
      }

      .nav-item {
        margin-bottom: 0.5rem;
        padding: 0.75rem 1rem;
        border-radius: 8px;
        cursor: pointer;
        transition: background-color 0.2s;
        font-weight: 500;
      }

      .nav-item:hover,
      .nav-item.active {
        background-color: rgba(255, 255, 255, 0.1);
      }

      .nav-item i {
        margin-right: 0.75rem;
        width: 20px;
        text-align: center;
      }

      .main-content {
        padding: 2rem;
      }

      .section {
        display: none;
      }

      .section.active {
        display: block;
      }

      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
      }

      .page-title {
        font-size: 1.75rem;
        font-weight: 600;
      }

      .dashboard-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1.5rem;
        margin-bottom: 1.5rem;
      }

      .kpi-card {
        background-color: var(--white);
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: var(--shadow);
        display: flex;
        flex-direction: column;
      }

      .kpi-title {
        font-size: 0.9rem;
        color: var(--text-light);
        margin-bottom: 0.5rem;
      }

      .kpi-value {
        font-size: 1.75rem;
        font-weight: 700;
        margin-bottom: 0.75rem;
        color: var(--primary);
      }

      .kpi-description {
        font-size: 0.85rem;
        color: var(--text-light);
        margin-top: auto;
      }

      .chart-container {
        background-color: var(--white);
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: var(--shadow);
        margin-bottom: 1.5rem;
      }

      .chart-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .chart-title {
        font-size: 1.1rem;
        font-weight: 600;
      }

      .chart-actions {
        display: flex;
        gap: 0.5rem;
      }

      .chart-action {
        background-color: var(--lighter);
        border: none;
        border-radius: 4px;
        padding: 0.25rem 0.5rem;
        font-size: 0.8rem;
        cursor: pointer;
        transition: background-color 0.2s;
      }

      .chart-action:hover {
        background-color: var(--light);
      }

      .chart-area {
        position: relative;
        height: 300px;
        width: 100%;
      }

      .chart-area-small {
        height: 250px;
      }

      .two-col {
        grid-column: span 2;
      }

      .table-container {
        background-color: var(--white);
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: var(--shadow);
        overflow-x: auto;
        margin-bottom: 1.5rem;
      }

      .data-table {
        width: 100%;
        border-collapse: collapse;
      }

      .data-table th,
      .data-table td {
        padding: 0.75rem 1rem;
        text-align: left;
        border-bottom: 1px solid #eee;
      }

      .data-table th {
        font-weight: 600;
        color: var(--text-light);
        background-color: #f5f8fa;
        font-size: 0.85rem;
      }

      .data-table tbody tr:hover {
        background-color: #f9fafb;
      }

      .percent-bar {
        height: 8px;
        width: 100%;
        background-color: var(--lighter);
        border-radius: 4px;
        overflow: hidden;
        margin-top: 4px;
      }

      .percent-fill {
        height: 100%;
        background-color: var(--secondary);
      }

      .tier-badge {
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        font-size: 0.75rem;
        font-weight: 500;
        display: inline-block;
      }

      .tier-1 {
        background-color: #e3f2fd;
        color: #0d47a1;
      }

      .tier-3 {
        background-color: #e8f5e9;
        color: #1b5e20;
      }

      .tier-4 {
        background-color: #fff3e0;
        color: #e65100;
      }

      .tier-5 {
        background-color: #f3e5f5;
        color: #7b1fa2;
      }

      .recommendations {
        background-color: var(--white);
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: var(--shadow);
        margin-bottom: 1.5rem;
      }

      .recommendations h3 {
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 1rem;
      }

      .recommendations-list {
        list-style: none;
      }

      .recommendation-item {
        margin-bottom: 1rem;
        padding-bottom: 1rem;
        border-bottom: 1px solid #eee;
      }

      .recommendation-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.5rem;
      }

      .recommendation-title {
        font-weight: 600;
      }

      .recommendation-tier {
        font-size: 0.85rem;
        color: var(--text-light);
      }

      .recommendation-content {
        font-size: 0.9rem;
        line-height: 1.5;
        color: var(--text-light);
      }

      .cta-button {
        background-color: var(--accent);
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 6px;
        cursor: pointer;
        font-weight: 500;
        transition: background-color 0.2s;
      }

      .cta-button:hover {
        background-color: #ff5252;
      }

      .footer {
        text-align: center;
        padding: 1rem;
        color: var(--text-light);
        font-size: 0.85rem;
      }

      @media (max-width: 1200px) {
        .dashboard-grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      @media (max-width: 992px) {
        .dashboard {
          grid-template-columns: 1fr;
        }

        .sidebar {
          display: none;
        }
      }

      @media (max-width: 768px) {
        .dashboard-grid {
          grid-template-columns: 1fr;
        }

        .two-col {
          grid-column: span 1;
        }
      }
    </style>
  </head>
  <body>
    <div class="dashboard">
      <aside class="sidebar">
        <div class="logo">
          <div>Barita Investments</div>
        </div>
        <ul class="nav-list">
          <li class="nav-item active" data-section="dashboard-section">
            Dashboard
          </li>
          
          <li class="nav-item" data-section="retention-section">
            Retention Metrics
          </li>
          <li class="nav-item" data-section="acquisition-section">
            Acquisition Costs
          </li>
          <li class="nav-item" data-section="cltv-section">CLTV Analysis</li>
          <li class="nav-item" data-section="recommendations-section">
            Strategic Recommendations
          </li>
        </ul>
      </aside>

      <main class="main-content">
        <!-- Dashboard Section -->
        <section id="dashboard-section" class="section active">
          <div class="header">
            <h1 class="page-title">CLTV Dashboard</h1>
          </div>

          <div class="dashboard-grid">
            <div class="kpi-card">
              <h3 class="kpi-title">Average CLTV</h3>
              <div class="kpi-value">$6.37M</div>
              <div class="kpi-description">Across all customer tiers</div>
            </div>
            <div class="kpi-card">
              <h3 class="kpi-title">Avg Revenue PA</h3>
              <div class="kpi-value">$865K</div>
              <div class="kpi-description">Per customer per annum</div>
            </div>
            <div class="kpi-card">
              <h3 class="kpi-title">Customer Count</h3>
              <div class="kpi-value">1,849</div>
              <div class="kpi-description">Total active customers</div>
            </div>
          </div>

          <div class="chart-container two-col">
            <div class="chart-header">
              <h3 class="chart-title">Average Revenue PA by Tier</h3>
              <div class="chart-actions">
                

                
              </div>
            </div>
            <div class="chart-area">
              <canvas id="avgRevenueByTierChart"></canvas>
            </div>
          </div>

          <div class="chart-container">
            <div class="chart-header">
              <h3 class="chart-title">Customer Distribution by Tier</h3>
              <div class="chart-actions">
                

              </div>
            </div>
            <div class="chart-area chart-area-small">
              <canvas id="customerDistributionChart"></canvas>
            </div>
          </div>

          <div class="table-container">
            <div class="chart-header">
              <h3 class="chart-title">General Performance Indicators</h3>
              <div class="chart-actions">
                

              </div>
            </div>
            <table class="data-table">
              <thead>
                <tr>
                  <th>Tier</th>
                  <th>Customer Count</th>
                  <th>Distribution</th>
                  <th>Avg Revenue PA</th>
                  <th>Avg RepoAmount</th>
                  <th>Avg Spread</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><span class="tier-badge tier-1">Tier 1</span></td>
                  <td>167</td>
                  <td>
                    <div>9.0%</div>
                    <div class="percent-bar">
                      <div class="percent-fill" style="width: 9%"></div>
                    </div>
                  </td>
                  <td>$5.6M</td>
                  <td>$153.4M</td>
                  <td>3.59%</td>
                </tr>
                <tr>
                  <td><span class="tier-badge tier-3">Tier 3</span></td>
                  <td>129</td>
                  <td>
                    <div>7.0%</div>
                    <div class="percent-bar">
                      <div class="percent-fill" style="width: 7%"></div>
                    </div>
                  </td>
                  <td>$1.92M</td>
                  <td>$59.8M</td>
                  <td>3.17%</td>
                </tr>
                <tr>
                  <td><span class="tier-badge tier-4">Tier 4</span></td>
                  <td>344</td>
                  <td>
                    <div>18.6%</div>
                    <div class="percent-bar">
                      <div class="percent-fill" style="width: 18.6%"></div>
                    </div>
                  </td>
                  <td>$912K</td>
                  <td>$30.2M</td>
                  <td>3.90%</td>
                </tr>
                <tr>
                  <td><span class="tier-badge tier-5">Tier 5</span></td>
                  <td>1209</td>
                  <td>
                    <div>65.4%</div>
                    <div class="percent-bar">
                      <div class="percent-fill" style="width: 65.4%"></div>
                    </div>
                  </td>
                  <td>$146K</td>
                  <td>$2.4M</td>
                  <td>5.78%</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- CLTV Analysis Section -->
        <section id="cltv-section" class="section">
          <div class="header">
            <h1 class="page-title">CLTV Analysis</h1>
          </div>

          <div class="dashboard-grid">
            <div class="kpi-card">
              <h3 class="kpi-title">Average CLTV</h3>
              <div class="kpi-value">$6.37M</div>
              <div class="kpi-description">Across all customer tiers</div>
            </div>
            <div class="kpi-card">
              <h3 class="kpi-title">Pareto Efficiency</h3>
              <div class="kpi-value">24.6%</div>
              <div class="kpi-description">
                Of customers generate 80% of value
              </div>
            </div>
            <div class="kpi-card">
              <h3 class="kpi-title">CLTV Growth</h3>
              <div class="kpi-value">???</div>
              <div class="kpi-description">
                Coming soon (we hope it's going up...)
              </div>
            </div>
          </div>

          <div class="chart-container two-col">
            <div class="chart-header">
              <h3 class="chart-title">CLTV by Customer Tier</h3>
              <div class="chart-actions">
                

                
              </div>
            </div>
            <div class="chart-area">
              <canvas id="cltvByTierChart"></canvas>
            </div>
          </div>

          <div class="chart-container">
            <div class="chart-header">
                <h3 class="chart-title">CLTV Efficiency per J$1 Invested</h3>
                <div class="chart-actions">
                    

                </div>
            </div>
            <div class="chart-area chart-area-small">
                <canvas id="cltvEfficiencyChart"></canvas>
            </div>
        </div>
        

          <div class="chart-container">
            <div class="chart-header">
              <h3 class="chart-title">Pareto Analysis</h3>
              <div class="chart-actions">
                

              </div>
            </div>
            <div class="chart-area chart-area-small">
              <canvas id="paretoChart"></canvas>
            </div>
          </div>

          <div class="chart-container two-col">
            <div class="chart-header">
              <h3 class="chart-title">CLTV vs Acquisition Cost</h3>
              <div class="chart-actions">
                

                
              </div>
            </div>
            <div class="chart-area">
              <canvas id="cltvVsAcquisitionChart"></canvas>
            </div>
          </div>

          <div class="chart-container">
            <div class="chart-header">
              <h3 class="chart-title">CLTV vs Retention Period</h3>
              <div class="chart-actions">
                

              </div>
            </div>
            <div class="chart-area chart-area-small">
              <canvas id="cltvVsRetentionChart"></canvas>
            </div>
          </div>
        </section>

        <!-- Customer Tiers Section -->
        <section id="customer-tiers-section" class="section">
          <div class="header">
            <h1 class="page-title">Customer Tiers</h1>
          </div>

          <div class="table-container">
            <div class="chart-header">
              <h3 class="chart-title">Tier Performance Summary</h3>
              <div class="chart-actions">
                

              </div>
            </div>
            <table class="data-table">
              <thead>
                <tr>
                  <th>Tier</th>
                  <th>Avg CLTV</th>
                  <th>RepoAmount Range</th>
                  <th>Spread</th>
                  <th>Retention</th>
                  <th>Acquisition Cost</th>
                  <th>Distribution</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><span class="tier-badge tier-1">Tier 1</span></td>
                  <td>$41.4M</td>
                  <td>$92.1M - $229.3M</td>
                  <td>3.59%</td>
                  <td>7.39 years</td>
                  <td>$1.96M</td>
                  <td>
                    <div>9.0%</div>
                    <div class="percent-bar">
                      <div class="percent-fill" style="width: 9%"></div>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td><span class="tier-badge tier-3">Tier 3</span></td>
                  <td>$13.1M</td>
                  <td>$51.1M - $67.3M</td>
                  <td>3.17%</td>
                  <td>6.80 years</td>
                  <td>$677K</td>
                  <td>
                    <div>7.0%</div>
                    <div class="percent-bar">
                      <div class="percent-fill" style="width: 7%"></div>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td><span class="tier-badge tier-4">Tier 4</span></td>
                  <td>$6.4M</td>
                  <td>$23.2M - $37.2M</td>
                  <td>3.90%</td>
                  <td>7.01 years</td>
                  <td>$318K</td>
                  <td>
                    <div>18.6%</div>
                    <div class="percent-bar">
                      <div class="percent-fill" style="width: 18.6%"></div>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td><span class="tier-badge tier-5">Tier 5</span></td>
                  <td>$1.1M</td>
                  <td>$2.1M - $2.7M</td>
                  <td>5.78%</td>
                  <td>7.52 years</td>
                  <td>$49K</td>
                  <td>
                    <div>65.4%</div>
                    <div class="percent-bar">
                      <div class="percent-fill" style="width: 65.4%"></div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="chart-container two-col">
            <div class="chart-header">
              <h3 class="chart-title">Tier Contribution Analysis</h3>
              <div class="chart-actions">
                

                
              </div>
            </div>
            <div class="chart-area">
              <canvas id="tierContributionChart"></canvas>
            </div>
          </div>

          <div class="chart-container">
            <div class="chart-header">
              <h3 class="chart-title">Customer Count by Tier</h3>
              <div class="chart-actions">
                

              </div>
            </div>
            <div class="chart-area chart-area-small">
              <canvas id="customerCountByTierChart"></canvas>
            </div>
          </div>
        </section>

        <!-- Retention Metrics Section -->
        <section id="retention-section" class="section">
          <div class="header">
            <h1 class="page-title">Retention Metrics</h1>
          </div>

          <div class="dashboard-grid">
            <div class="kpi-card">
              <h3 class="kpi-title">Average Retention</h3>
              <div class="kpi-value">7.36 Years</div>
              <div class="kpi-description">Across all customer tiers</div>
            </div>
            <div class="kpi-card">
              <h3 class="kpi-title">Annual Churn Rate</h3>
              <div class="kpi-value">13.6%</div>
              <div class="kpi-description">Customer turnover per year</div>
            </div>
          </div>

          <div class="chart-container two-col">
            <div class="chart-header">
              <h3 class="chart-title">Retention Period by Tier</h3>
              <div class="chart-actions">
                

                
              </div>
            </div>
            <div class="chart-area">
              <canvas id="retentionByTierChart"></canvas>
            </div>
          </div>

          <div class="table-container">
            <div class="chart-header">
              <h3 class="chart-title">Retention Performance by Tier</h3>
              <div class="chart-actions">
                

              </div>
            </div>
            <table class="data-table">
              <thead>
                <tr>
                  <th>Tier</th>
                  <th>Avg Retention Period</th>
                  <th>Churn Rate</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><span class="tier-badge tier-1">Tier 1</span></td>
                  <td>7.39 years</td>
                  <td>13.5%</td>
                </tr>
                <tr>
                  <td><span class="tier-badge tier-3">Tier 3</span></td>
                  <td>6.80 years</td>
                  <td>14.7%</td>
                </tr>
                <tr>
                  <td><span class="tier-badge tier-4">Tier 4</span></td>
                  <td>7.01 years</td>
                  <td>14.3%</td>
                </tr>
                <tr>
                  <td><span class="tier-badge tier-5">Tier 5</span></td>
                  <td>7.52 years</td>
                  <td>13.3%</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Acquisition Costs Section -->
        <section id="acquisition-section" class="section">
          <div class="header">
            <h1 class="page-title">Acquisition Costs</h1>
          </div>

          <div class="dashboard-grid">
            <div class="kpi-card">
              <h3 class="kpi-title">Average Acquisition Cost</h3>
              <div class="kpi-value">$364K</div>
              <div class="kpi-description">Across all customer tiers</div>
            </div>
            <div class="kpi-card">
              <h3 class="kpi-title">Cost-to-Value Ratio</h3>
              <div class="kpi-value">4.85%</div>
              <div class="kpi-description">Acquisition cost as % of CLTV</div>
            </div>
            <div class="kpi-card">
              <h3 class="kpi-title">ROI on Acquisition</h3>
              <div class="kpi-value">21x</div>
              <div class="kpi-description">
                Return on acquisition investment
              </div>
            </div>
          </div>

          <div class="chart-container two-col">
            <div class="chart-header">
              <h3 class="chart-title">Acquisition Cost by Tier</h3>
              <div class="chart-actions">
                

                
              </div>
            </div>
            <div class="chart-area">
              <canvas id="acquisitionByTierChart"></canvas>
            </div>
          </div>

          <div class="chart-container">
            <div class="chart-header">
              <h3 class="chart-title">Acquisition Cost vs ROI</h3>
              <div class="chart-actions">
                

              </div>
            </div>
            <div class="chart-area chart-area-small">
              <canvas id="acquisitionVsRoiChart"></canvas>
            </div>
          </div>

          <div class="table-container">
            <div class="chart-header">
              <h3 class="chart-title">Acquisition Performance by Tier</h3>
              <div class="chart-actions">
                

              </div>
            </div>
            <table class="data-table">
              <thead>
                <tr>
                  <th>Tier</th>
                  <th>Avg Acquisition Cost</th>
                  <th>Acquisition ROI</th>
                  <th>Cost-to-Value Ratio</th>
                  <th>Payback Period</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><span class="tier-badge tier-1">Tier 1</span></td>
                  <td>$1.96M</td>
                  <td>21.1x</td>
                  <td>4.7%</td>
                  <td>3 months</td>
                </tr>
                <tr>
                  <td><span class="tier-badge tier-3">Tier 3</span></td>
                  <td>$677K</td>
                  <td>19.3x</td>
                  <td>5.2%</td>
                  <td>3 months</td>
                </tr>
                <tr>
                  <td><span class="tier-badge tier-4">Tier 4</span></td>
                  <td>$318K</td>
                  <td>20.1x</td>
                  <td>5.0%</td>
                  <td>3 months</td>
                </tr>
                <tr>
                  <td><span class="tier-badge tier-5">Tier 5</span></td>
                  <td>$49K</td>
                  <td>22.4x</td>
                  <td>4.5%</td>
                  <td>3 months</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Strategic Recommendations Section -->
        <section id="recommendations-section" class="section">
          <div class="header">
            <h1 class="page-title">Strategic Recommendations</h1>
          </div>

          <div class="recommendations">
            <ul class="recommendations-list">
              <li class="recommendation-item">
                <div class="recommendation-header">
                  <div class="recommendation-title">
                    Shift to CLTV-Based Segmentation
                  </div>
                  <div class="recommendation-tier">All Tiers</div>
                </div>
                <div class="recommendation-content">
                  Transition from a RepoAmount-based tiering structure to one
                  based on Customer Lifetime Value (CLTV). This refined
                  segmentation will better allocate relationship management
                  resources, design targeted incentives, and prioritize
                  retention efforts based on actual value rather than size
                  alone.
                </div>
              </li>
              <li class="recommendation-item">
                <div class="recommendation-header">
                  <div class="recommendation-title">
                    Fortify & Lock-in Tier 1 Clients
                  </div>
                  <div class="recommendation-tier">Tier 1</div>
                </div>
                <div class="recommendation-content">
                    Implement multi-year engagement contracts with tier-exclusive benefits to reduce churn. Offer fixed-spread agreements, early access to structured products, and assign dedicated relationship managers.

                    Why: Although Tier 1 clients contribute 40x more value than Tier 5, they are highly rate-sensitive and more likely to explore competitors.
                    
                    Goal: Lock in high-value clients before competitors do.
                </div>
              </li>
              <li class="recommendation-item">
                <div class="recommendation-header">
                  <div class="recommendation-title">
                    Implement Predictive Churn Prevention
                  </div>
                  <div class="recommendation-tier">All Tiers</div>
                </div>
                <div class="recommendation-content">
                  Build a "Churn Risk Dashboard" that tracks indicators such as
                  declining CLTV, reduced investment size, and shortened
                  retention estimates. Use these early warning signals to
                  initiate targeted retention efforts.
                </div>
              </li>
              <li class="recommendation-item">
                <div class="recommendation-header">
                  <div class="recommendation-title">
                    Scale Tier 5
                  </div>
                  <div class="recommendation-tier">Tier 5</div>
                </div>
                <div class="recommendation-content">
                    Tier 5 clients offer higher margins per dollar invested than Tier 1. Launch a Tier 5 Growth Program to scale maybe the top 30% of this group.

                    🔹 Use automated digital onboarding to keep acquisition cost low
                    🔹 Run spread-based upsell campaigns targeting clients with 5.5%+ spreads
                    🔹 Offer small loyalty perks that encourage growth
                    
                    Goal: Convert high-margin small clients into medium-tier powerhouses.
                </div>
              </li>
              <li class="recommendation-item">
                <div class="recommendation-header">
                  <div class="recommendation-title">
                    Optimize Tier 3 Retention Strategy
                  </div>
                  <div class="recommendation-tier">Tier 3 & 4</div>
                </div>
                <div class="recommendation-content">
                    Tier 3 and 4 clients are sitting on scalable potential. A targeted upsell + relationship approach could elevate dozens of these clients into Tier 1 territory — boosting profitability while keeping acquisition costs flat.

                    Focused growth of this segment may be more cost-effective than acquiring new Tier 1 clients.
                </div>
              </li>
              <li class="recommendation-item">
                <div class="recommendation-header">
                  <div class="recommendation-title">
                    Acquisition Channel Optimization
                  </div>
                  <div class="recommendation-tier">All Tiers</div>
                </div>
                <div class="recommendation-content">
                  Refine acquisition channels based on cost-efficiency and
                  tier-specific conversion rates. Direct sales efforts should
                  focus on Tier 1 prospects, while digital channels should
                  target Tiers 4 and 5 to reduce acquisition costs.
                </div>
              </li>
            </ul>
          </div>

        <div class="footer">
          Barita Investments CLTV Analysis Dashboard • Strategic Insights 2025
        </div>
      </main>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Section Navigation
        const navItems = document.querySelectorAll(".nav-item");
        const sections = document.querySelectorAll(".section");

        navItems.forEach((item) => {
          item.addEventListener("click", function () {
            // Remove active class from all nav items
            navItems.forEach((navItem) => navItem.classList.remove("active"));
            // Add active class to clicked nav item
            this.classList.add("active");

            // Hide all sections
            sections.forEach((section) => section.classList.remove("active"));
            // Show selected section
            const sectionId = this.getAttribute("data-section");
            document.getElementById(sectionId).classList.add("active");
          });
        });

        // Configure Chart.js defaults
        Chart.defaults.font.family = "'Segoe UI', sans-serif";
        Chart.defaults.color = "#666";

        const cltvByTierCtx = document.getElementById("cltvByTierChart").getContext("2d");
const cltvByTierChart = new Chart(cltvByTierCtx, {
    type: "bar",
    data: {
        labels: ["Tier 1", "Tier 3", "Tier 4", "Tier 5"],
        datasets: [{
            label: "Average CLTV (JMD Millions)",
            data: [41.4, 13.1, 6.4, 1.1],
            backgroundColor: ["#004c6d", "#4c8cbd", "#7aa6c2", "#a8c1d9"],
            borderWidth: 0,
        }]
    },
    options: {
        indexAxis: 'y', // ← Horizontal layout
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
            legend: { display: false },
            tooltip: {
                callbacks: {
                    label: context => `CLTV: $${context.raw}M`
                }
            }
        },
        scales: {
            x: {
                beginAtZero: true,
                title: {
                    display: true,
                    text: "CLTV (JMD Millions)"
                },
                ticks: {
                    callback: value => "$" + value + "M"
                }
            },
            y: {
                title: {
                    display: false
                }
            }
        }
    }
});


        // Customer Distribution Chart
        const customerDistributionCtx = document
          .getElementById("customerDistributionChart")
          .getContext("2d");
        const customerDistributionChart = new Chart(customerDistributionCtx, {
          type: "pie",
          data: {
            labels: ["Tier 1", "Tier 3", "Tier 4", "Tier 5"],
            datasets: [
              {
                data: [167, 129, 344, 1209],
                backgroundColor: ["#004c6d", "#4c8cbd", "#7aa6c2", "#a8c1d9"],
                borderWidth: 0,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: "right",
              },
              tooltip: {
                callbacks: {
                  label: function (context) {
                    const label = context.label || "";
                    const value = context.raw;
                    const percentage = Math.round((value / 1849) * 100);
                    return `${label}: ${value} customers (${percentage}%)`;
                  },
                },
              },
            },
          },
        });

        // Average Revenue by Tier Chart
        const avgRevenueByTierCtx = document
          .getElementById("avgRevenueByTierChart")
          .getContext("2d");
        const avgRevenueByTierChart = new Chart(avgRevenueByTierCtx, {
          type: "bar",
          data: {
            labels: ["Tier 1", "Tier 3", "Tier 4", "Tier 5"],
            datasets: [
              {
                label: "Average Revenue PA (JMD Millions)",
                data: [5.6, 1.92, 0.912, 0.146],
                backgroundColor: ["#004c6d", "#4c8cbd", "#7aa6c2", "#a8c1d9"],
                borderWidth: 0,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: false,
              },
              tooltip: {
                callbacks: {
                  label: function (context) {
                    return `Revenue: $${context.raw}M`;
                  },
                },
              },
            },
            scales: {
              y: {
                beginAtZero: true,
                title: {
                  display: true,
                  text: "Revenue (JMD Millions)",
                },
                ticks: {
                  callback: function (value) {
                    return "$" + value + "M";
                  },
                },
              },
            },
          },
        });

        // Pareto Chart (Combined bar and line)
        const paretoCtx = document
          .getElementById("paretoChart")
          .getContext("2d");
        const paretoChart = new Chart(paretoCtx, {
          type: "bar",
          data: {
            labels: ["Top 24.6%", "Remaining 75.4%"],
            datasets: [
              {
                label: "CLTV Contribution",
                data: [80, 20],
                backgroundColor: "#4c8cbd",
                order: 2,
              },
              {
                label: "Cumulative %",
                data: [80, 100],
                type: "line",
                borderColor: "#ff6b6b",
                borderWidth: 2,
                pointBackgroundColor: "#ff6b6b",
                fill: false,
                order: 1,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: "top",
              },
              tooltip: {
                callbacks: {
                  label: function (context) {
                    if (context.dataset.type === "line") {
                      return `Cumulative: ${context.raw}%`;
                    }
                    return `Contribution: ${context.raw}%`;
                  },
                },
              },
            },
            scales: {
              y: {
                beginAtZero: true,
                title: {
                  display: true,
                  text: "Percentage (%)",
                },
                ticks: {
                  callback: function (value) {
                    return value + "%";
                  },
                },
              },
            },
          },
        });

        // CLTV vs Acquisition Cost Chart
        const cltvVsAcquisitionCtx = document
          .getElementById("cltvVsAcquisitionChart")
          .getContext("2d");
        const cltvVsAcquisitionChart = new Chart(cltvVsAcquisitionCtx, {
          type: "bar",
          data: {
            labels: ["Tier 1", "Tier 3", "Tier 4", "Tier 5"],
            datasets: [
              {
                label: "Average CLTV (JMD Millions)",
                data: [41.4, 13.1, 6.4, 1.1],
                backgroundColor: "#004c6d",
                order: 1,
              },
              {
                label: "Acquisition Cost (JMD Millions)",
                data: [1.96, 0.677, 0.318, 0.049],
                backgroundColor: "#ff6b6b",
                order: 2,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: "top",
              },
            },
            scales: {
              y: {
                beginAtZero: true,
                title: {
                  display: true,
                  text: "Value (JMD Millions)",
                },
                ticks: {
                  callback: function (value) {
                    return "$" + value + "M";
                  },
                },
              },
            },
          },
        });

        const cltvEfficiencyCtx = document.getElementById('cltvEfficiencyChart').getContext('2d');
const cltvEfficiencyChart = new Chart(cltvEfficiencyCtx, {
    type: 'bar',
    data: {
        labels: ['Tier 5', 'Tier 4', 'Tier 1', 'Tier 3'],
        datasets: [{
            label: 'CLTV per J$1 Invested',
            data: [0.42, 0.26, 0.26, 0.21],
            backgroundColor: ['#004c6d', '#4c8cbd', '#7aa6c2', '#a8c1d9'],
            borderWidth: 0
        }]
    },
    options: {
        indexAxis: 'y', // ← This makes it horizontal
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
            legend: { display: false },
            tooltip: {
                callbacks: {
                    label: function(context) {
                        return `Efficiency: J$${context.raw.toFixed(2)} per $1 invested`;
                    }
                }
            }
        },
        scales: {
            x: {
                beginAtZero: true,
                title: {
                    display: true,
                    text: 'CLTV per J$1 Invested'
                },
                ticks: {
                    callback: value => 'J$' + value.toFixed(2)
                }
            },
            y: {
                title: {
                    display: false
                }
            }
        }
    }
});



        // CLTV vs Retention Period Chart
        const cltvVsRetentionCtx = document
          .getElementById("cltvVsRetentionChart")
          .getContext("2d");
        const cltvVsRetentionChart = new Chart(cltvVsRetentionCtx, {
          type: "scatter",
          data: {
            datasets: [
              {
                label: "Tier 1",
                data: [{ x: 7.39, y: 41.4 }],
                backgroundColor: "#004c6d",
                pointRadius: 10,
              },
              {
                label: "Tier 3",
                data: [{ x: 6.8, y: 13.1 }],
                backgroundColor: "#4c8cbd",
                pointRadius: 10,
              },
              {
                label: "Tier 4",
                data: [{ x: 7.01, y: 6.4 }],
                backgroundColor: "#7aa6c2",
                pointRadius: 10,
              },
              {
                label: "Tier 5",
                data: [{ x: 7.52, y: 1.1 }],
                backgroundColor: "#a8c1d9",
                pointRadius: 10,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: "top",
              },
              tooltip: {
                callbacks: {
                  label: function (context) {
                    return `${context.dataset.label}: ${context.raw.x} years, $${context.raw.y}M CLTV`;
                  },
                },
              },
            },
            scales: {
              x: {
                title: {
                  display: true,
                  text: "Retention Period (Years)",
                },
              },
              y: {
                beginAtZero: true,
                title: {
                  display: true,
                  text: "CLTV (JMD Millions)",
                },
                ticks: {
                  callback: function (value) {
                    return "$" + value + "M";
                  },
                },
              },
            },
          },
        });

        // Retention by Tier Chart (as a Line Chart)
const retentionByTierCtx = document
  .getElementById("retentionByTierChart")
  .getContext("2d");

const retentionByTierChart = new Chart(retentionByTierCtx, {
  type: "line",
  data: {
    labels: ["Tier 1", "Tier 3", "Tier 4", "Tier 5"],
    datasets: [
      {
        label: "Average Retention Period (Years)",
        data: [7.39, 6.8, 7.01, 7.52],
        backgroundColor: "#4c8cbd",
        borderColor: "#004c6d",
        pointBackgroundColor: "#004c6d",
        pointRadius: 6,
        fill: false,
        tension: 0.4 // smooth line
      },
    ],
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
      legend: {
        display: true,
        position: "top"
      },
      tooltip: {
        callbacks: {
          label: function (context) {
            return `${context.raw} years`;
          },
        },
      },
    },
    scales: {
      y: {
        beginAtZero: true,
        title: {
          display: true,
          text: "Retention Period (Years)",
        },
      },
    },
  },
});


        // Acquisition by Tier Chart
        const acquisitionByTierCtx = document
          .getElementById("acquisitionByTierChart")
          .getContext("2d");
        const acquisitionByTierChart = new Chart(acquisitionByTierCtx, {
          type: "bar",
          data: {
            labels: ["Tier 1", "Tier 3", "Tier 4", "Tier 5"],
            datasets: [
              {
                label: "Average Acquisition Cost (JMD Thousands)",
                data: [1960, 677, 318, 49],
                backgroundColor: ["#004c6d", "#4c8cbd", "#7aa6c2", "#a8c1d9"],
                borderWidth: 0,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: false,
              },
              tooltip: {
                callbacks: {
                  label: function (context) {
                    if (context.raw >= 1000) {
                      return `$${(context.raw / 1000).toFixed(2)}M`;
                    }
                    return `$${context.raw}K`;
                  },
                },
              },
            },
            scales: {
              y: {
                beginAtZero: true,
                title: {
                  display: true,
                  text: "Acquisition Cost (JMD Thousands)",
                },
                ticks: {
                  callback: function (value) {
                    if (value >= 1000) {
                      return "$" + (value / 1000).toFixed(1) + "M";
                    }
                    return "$" + value + "K";
                  },
                },
              },
            },
          },
        });

        // Acquisition vs ROI Chart
        const acquisitionVsRoiCtx = document
          .getElementById("acquisitionVsRoiChart")
          .getContext("2d");
        const acquisitionVsRoiChart = new Chart(acquisitionVsRoiCtx, {
          type: "scatter",
          data: {
            datasets: [
              {
                label: "Tier 1",
                data: [{ x: 1960, y: 21.1 }],
                backgroundColor: "#004c6d",
                pointRadius: 10,
              },
              {
                label: "Tier 3",
                data: [{ x: 677, y: 19.3 }],
                backgroundColor: "#4c8cbd",
                pointRadius: 10,
              },
              {
                label: "Tier 4",
                data: [{ x: 318, y: 20.1 }],
                backgroundColor: "#7aa6c2",
                pointRadius: 10,
              },
              {
                label: "Tier 5",
                data: [{ x: 49, y: 22.4 }],
                backgroundColor: "#a8c1d9",
                pointRadius: 10,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: "top",
              },
              tooltip: {
                callbacks: {
                  label: function (context) {
                    let cost =
                      context.raw.x >= 1000
                        ? `$${(context.raw.x / 1000).toFixed(2)}M`
                        : `$${context.raw.x}K`;
                    return `${context.dataset.label}: ${cost}, ROI: ${context.raw.y}x`;
                  },
                },
              },
            },
            scales: {
              x: {
                title: {
                  display: true,
                  text: "Acquisition Cost (JMD Thousands)",
                },
                ticks: {
                  callback: function (value) {
                    if (value >= 1000) {
                      return "$" + (value / 1000).toFixed(1) + "M";
                    }
                    return "$" + value + "K";
                  },
                },
              },
              y: {
                beginAtZero: true,
                title: {
                  display: true,
                  text: "ROI (Multiple)",
                },
                ticks: {
                  callback: function (value) {
                    return value + "x";
                  },
                },
              },
            },
          },
        });

        <!-- CONTINUE THIS IN YOUR SCRIPT TAG -->
        // Customer Count by Tier Chart
        const customerCountByTierCtx = document
          .getElementById("customerCountByTierChart")
          .getContext("2d");
        const customerCountByTierChart = new Chart(customerCountByTierCtx, {
          type: "bar",
          data: {
            labels: ["Tier 1", "Tier 3", "Tier 4", "Tier 5"],
            datasets: [
              {
                label: "Customer Count",
                data: [167, 129, 344, 1209],
                backgroundColor: ["#004c6d", "#4c8cbd", "#7aa6c2", "#a8c1d9"],
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { display: false },
            },
            scales: {
              y: {
                beginAtZero: true,
                title: {
                  display: true,
                  text: "Number of Customers",
                },
              },
            },
          },
        });
      });
    </script>
  </body>
</html>
